{
  "timestamp": "2026-01-22T14:53:27.534665",
  "postgresql": {
    "status": "ok",
    "latency_ms": 172.61,
    "is_supabase": true,
    "is_pgbouncer": true,
    "search_path_ok": true,
    "connections": {
      "total": 29,
      "idle": 20,
      "idle_long": 4,
      "max": 60,
      "usage_percent": 48.3
    }
  },
  "redis": {
    "status": "error",
    "message": "Error 61 connecting to localhost:6379. Connection refused."
  },
  "cache_patterns": {
    "redundant_hits": {
      "description": "Same user queried multiple times",
      "example": "user_by_auth0_id:auth0|xxx hit 14 times",
      "impact": "350ms extra latency",
      "found": true
    },
    "missing_cache_writes": {
      "description": "Cache misses not being populated",
      "example": "user_gym_membership:10:4 miss multiple times",
      "impact": "Extra DB queries",
      "found": true
    }
  },
  "recommendations": [
    {
      "priority": "HIGH",
      "component": "PostgreSQL",
      "issue": "Using PgBouncer/Supabase",
      "fix": "Use NullPool instead of QueuePool",
      "command": "Update engine with poolclass=NullPool"
    },
    {
      "priority": "HIGH",
      "component": "Cache",
      "issue": "Redundant cache hits for same data",
      "fix": "Implement request-level caching",
      "command": "Add RequestCache to avoid repeated lookups"
    }
  ]
}